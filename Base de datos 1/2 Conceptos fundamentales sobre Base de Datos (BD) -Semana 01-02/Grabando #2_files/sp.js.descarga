'use strict';"object"!==typeof window.ScreenPal&&(window.ScreenPal=function(f){function g(c){f.SPMain?c():a.waitingToStart.push(c)}var h=navigator.userAgent.toLowerCase();let l=0<h.indexOf("edg");h=0<h.indexOf("chrome")&&!l||l;var a={isRecorderSupported:h,waitingToStart:[],settings:{enableRecorder:h,enablePreview:!0,defaultCaptureType:"screen",defaultTitle:null,titleLabel:null,showTitle:null,animatedGif:null,selectTextAreas:null}};(function(){a.urlBase="";a.urlParams={};for(var c=document.getElementsByTagName("script"),
d=0;d<c.length;d++)if(/api\/sp\.js/i.test(c[d].getAttribute("src"))){a.urlBase=c[d].getAttribute("src").split("api/sp.js",2)[0];-1!==a.urlBase.indexOf("..")&&(a.urlBase=(new URL(a.urlBase,document.location)).href);a.urlParams=function(){for(var e,k=/\+/g,n=/([^&=]+)=?([^&]*)/g,p=c[d].getAttribute("src").replace(/^[^\?]+\??/,""),m={};e=n.exec(p);)m[decodeURIComponent(e[1].replace(k," "))]=decodeURIComponent(e[2].replace(k," "));return m}();break}if(!f.Opentip){var b=document.createElement("link");
b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("href",a.urlBase+"app/css/opentip.css");document.getElementsByTagName("head")[0].appendChild(b);b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",a.urlBase+"app/js/lib/opentip-native.min.js");document.getElementsByTagName("head")[0].appendChild(b)}f.basicLightbox||(b=document.createElement("link"),b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),b.setAttribute("href",
a.urlBase+"app/css/basicLightbox.min.css"),document.getElementsByTagName("head")[0].appendChild(b),b=document.createElement("script"),b.setAttribute("type","text/javascript"),b.setAttribute("src",a.urlBase+"app/js/lib/basicLightbox.min.js"),document.getElementsByTagName("head")[0].appendChild(b));f.SPRuntime||(b=document.createElement("link"),b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),b.setAttribute("href",a.urlBase+"app/css/SP-Main.css"),document.getElementsByTagName("head")[0].appendChild(b),
b=document.createElement("script"),b.setAttribute("type","text/javascript"),b.setAttribute("src",a.urlBase+"api/SP-Runtime.js"),b.onload=function(){if(!f.SPMain){let e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("src",a.urlBase+"app/js/SP-Main.js");e.onload=function(){a.waitingToStart.forEach(k=>k())};document.getElementsByTagName("head")[0].appendChild(e)}},document.getElementsByTagName("head")[0].appendChild(b))})();a.internal={getSettings:function(){return a.settings},
getSOMHost:function(){return a.urlParams.host},getRecorderId:function(){return a.urlParams.r},getCreateUrl:function(){return a.urlParams.createUrl},isNoFolder:function(){return"true"===a.urlParams.noFolder},isDebug:function(){return"true"===a.urlParams.debug},getURLBase:function(){return a.urlBase},getURL:function(c){let d=-1===c.indexOf("?")?"?":"\x26";d+="runtimeURLBase\x3d"+encodeURIComponent(a.internal.getURLBase());d+="\x26runtimeVersion\x3d1000.820.15";a.internal.isDebug()&&(d+="\x26runtimeDebug\x3d"+
a.internal.isDebug());a.internal.getSOMHost()&&(d+="\x26runtimeSOMHost\x3d"+encodeURIComponent(a.internal.getSOMHost()));a.internal.getRecorderId()&&(d+="\x26runtimeRecorderId\x3d"+encodeURIComponent(a.internal.getRecorderId()));a.internal.getCreateUrl()&&(d+="\x26runtimeCreateUrl\x3d"+encodeURIComponent(a.internal.getCreateUrl()));a.internal.isNoFolder()&&(d+="\x26runtimeNoFolder\x3d"+a.internal.isNoFolder());a.internal.getSettings().ampDeviceId&&(d+="\x26runtimeAmpDeviceId\x3d"+a.internal.getSettings().ampDeviceId);
a.internal.getSettings().ampPlatform&&(d+="\x26runtimeAmpPlatform\x3d"+a.internal.getSettings().ampPlatform);d+="\x26runtimeEmbedLocation\x3d"+encodeURIComponent(document.location);c.startsWith("api/")||c.startsWith("app/")||(c="app/"+c);return a.internal.getURLBase()+c+d},getBackgroundIframe:function(){return a.iframe}};a.__setRecordingId=function(c){g(function(){SPMain.setRecordingId(c)})};a.init=function(c){for(var d in c)a.settings[d]=c[d];a.isRecorderSupported||(a.settings.enableRecorder=!1);
document.getElementById("sp-background-process-frame")||(a.iframe=document.createElement("iframe"),a.iframe.src=a.internal.getURL("api/background.html"),a.iframe.id="sp-background-process-frame",a.iframe.style.display="none",a.iframe.allow="camera;microphone;display-capture",document.body.appendChild(a.iframe))};a.isRecorderSupported=function(){return a.isRecorderSupported};a.isSupportedBrowser=function(){return a.isRecorderSupported};a.show=function(c){g(function(){SPMain.show(c)})};a.advertise=
function(c){g(function(){SPMain.advertise(c)})};a.closeAdvertisement=function(){g(function(){SPMain.closeAdvertisement()})};a.startBrowserRecorder=function(c,d){g(function(){SPMain.startBrowserRecorder(c,d)})};return a}(window));