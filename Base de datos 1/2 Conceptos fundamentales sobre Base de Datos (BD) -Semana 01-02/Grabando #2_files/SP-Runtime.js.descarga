'use strict';"object"!==typeof window.SPRuntime&&(window.SPRuntime=function(e){var d={waitingResponse:[],waitingLocalResponse:[],getSettings:function(){return ScreenPal.internal.getSettings()},isDebug:function(){return ScreenPal.internal.isDebug()},isEmbed:function(){return!0},sendMessageToBackground:function(b,f){if(f){let a=(new Date).getTime()+"-"+Math.floor(1E3*Math.random());d.waitingLocalResponse[a]=f;b.responseListenerId=a}ScreenPal.internal.getBackgroundIframe().contentWindow.postMessage(b,
ScreenPal.internal.getURLBase()+"*")},getURL:function(b){return ScreenPal.internal.getURL(b)},getSPHost:function(){let b=ScreenPal.internal.getSOMHost();return b?b:"https://screenpal.com"},startMessageListener:function(b,f){b=function(a){var c=a.data;if("object"===typeof c)if("forwardToBackground"in c)"responseListenerId"in a.data&&(d.waitingResponse[a.data.responseListenerId]=a),d.sendMessageToBackground(c);else if("responseListenerId"in a.data)(c=d.waitingLocalResponse[a.data.responseListenerId])?
(d.waitingLocalResponse[a.data.responseListenerId]=void 0,c(a.data)):(c=d.waitingResponse[a.data.responseListenerId],d.waitingResponse[a.data.responseListenerId]=void 0,c.source.postMessage(a.data,c.origin));else{f(c);a=document.getElementsByTagName("iframe");for(let g of a)"som-link"===g.id||0!==g.id.indexOf("som-")&&0!==g.className.indexOf("som-")||g.contentWindow.postMessage(c,"*")}};e.addEventListener?e.addEventListener("message",b,!1):e.attachEvent&&e.attachEvent("onmessage",b)}};return d}(window));