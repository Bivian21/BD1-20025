'use strict';"object"!==typeof window.LocalFile&&(window.LocalFile=function(f){function d(b){console.error("Error: "+b)}let a={};"webkitRequestFileSystem"in f?(a.init=function(b,c){a={};f.webkitRequestFileSystem(f.TEMPORARY,104857600,function(g){g.root.getDirectory("ScreenPal",{create:!0},function(e){e.getFile(b,{create:!0},function(h){h.createWriter(function(k){console.log("LocalFile created tmp file.");a.fileEntry=h;a.fileWriter=k;c&&c()},d)},d)},d)},d)},a.write=function(b){if(a.fileWriter)return new Promise((c,
g)=>{a.fileWriter.onwriteend=function(){c(b)};a.fileWriter.onerror=function(e){console.error("LocalFile write to file failed: "+e.toString());g(e)};a.fileWriter.write(b)});console.log("No LocalFile writer so not writing blob.")},a.getURL=function(){if(a.fileEntry)return a.fileEntry.toURL();console.log("No LocalFile entry so can't get URL to tmp file.")},a.finished=function(){a.fileEntry?(a.fileEntry.remove(function(){console.log("LocalFile removed tmp file.")},d),a={}):console.log("No LocalFile entry so not removing tmp file.")}):
(a.init=function(){a.blob=new Blob([])},a.write=function(b){return new Promise(c=>{a.blob=new Blob([a.blob,b],{type:b.type});c()})},a.getURL=function(){return a.blob?URL.createObjectURL(a.blob):void 0},a.finished=function(){a.blob=void 0});return a}(window));